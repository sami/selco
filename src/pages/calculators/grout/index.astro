---
import BaseLayout from '../../../layouts/BaseLayout.astro';
import GroutCalculator from '../../../components/GroutCalculator';

const base = import.meta.env.BASE_URL.endsWith('/') ? import.meta.env.BASE_URL : `${import.meta.env.BASE_URL}/`;

const faqs = [
  {
    question: 'How much grout do I need per square metre?',
    answer: 'It depends on tile size, joint width and tile depth. For 300 x 300 mm tiles with a 3 mm joint and 8 mm depth, expect around 0.5 kg/m². For 100 x 100 mm mosaic tiles with a 2 mm joint, expect around 1.3 kg/m².',
  },
  {
    question: 'What is the difference between sanded and unsanded grout?',
    answer: 'Unsanded grout is smooth and suits joints up to 3 mm (typically wall tiles). Sanded grout contains fine aggregate for strength and suits joints from 3 mm to 15 mm (typically floor tiles). Using unsanded grout in wide joints causes cracking.',
  },
  {
    question: 'How long does grout take to dry?',
    answer: 'Grout is firm enough to walk on after 24 hours. Full cure takes 48–72 hours depending on temperature and humidity. Do not expose freshly grouted joints to water for at least 24 hours.',
  },
  {
    question: 'Do I need to seal grout?',
    answer: 'Yes, for cement-based grout in kitchens, bathrooms and wet areas. A grout sealer protects against staining and moisture penetration. Epoxy grout does not need sealing.',
  },
  {
    question: 'Can I grout wall and floor tiles with the same product?',
    answer: 'Some grouts are rated for both walls and floors. Check the product label. Floor grout must be sanded if joints exceed 3 mm. Wall grout is typically unsanded and fine.',
  },
];

const site = 'https://sami.github.io/selco/';

const breadcrumbJsonLd = {
  '@context': 'https://schema.org',
  '@type': 'BreadcrumbList',
  itemListElement: [
    { '@type': 'ListItem', position: 1, name: 'Home', item: site },
    { '@type': 'ListItem', position: 2, name: 'Calculators', item: `${site}calculators/` },
    { '@type': 'ListItem', position: 3, name: 'Grout', item: `${site}calculators/grout/` },
  ],
};

const faqJsonLd = {
  '@context': 'https://schema.org',
  '@type': 'FAQPage',
  mainEntity: faqs.map((faq) => ({
    '@type': 'Question',
    name: faq.question,
    acceptedAnswer: {
      '@type': 'Answer',
      text: faq.answer,
    },
  })),
};

const relatedCalculators = [
  { title: 'Tile Quantity', href: `${base}calculators/tiles/`, description: 'Calculate how many tiles you need.' },
  { title: 'Adhesive', href: `${base}calculators/adhesive/`, description: 'Work out how much tile adhesive to buy.' },
  { title: 'Spacers', href: `${base}calculators/spacers/`, description: 'Count spacers and packs for your layout.' },
  { title: 'Unit Conversions', href: `${base}calculators/conversions/`, description: 'Convert between metric and imperial units.' },
];
---

<BaseLayout
  title="Grout Calculator | How Much Grout Do I Need?"
  description="Free grout calculator for tradespeople. Enter your tiling area, tile size, joint width and tile depth to estimate how much grout you need in kg and bags. Instant results."
>
  <script type="application/ld+json" set:html={JSON.stringify(breadcrumbJsonLd)} />
  <script type="application/ld+json" set:html={JSON.stringify(faqJsonLd)} />

  <div class="container mx-auto px-4 pt-6 md:pt-10 pb-16">

    <!-- Breadcrumbs -->
    <nav aria-label="Breadcrumb" class="mb-6 text-sm text-muted-foreground">
      <ol class="flex items-center gap-1.5 flex-wrap">
        <li><a href={base} class="hover:text-brand-blue transition-colors">Home</a></li>
        <li class="text-border">/</li>
        <li><a href={`${base}calculators/`} class="hover:text-brand-blue transition-colors">Calculators</a></li>
        <li class="text-border">/</li>
        <li class="text-surface-foreground font-medium">Grout</li>
      </ol>
    </nav>

    <!-- H1 & Intro -->
    <header class="mb-8 max-w-3xl">
      <h1 class="text-3xl md:text-4xl font-bold text-surface-foreground mb-4">
        Grout Calculator: Work Out How Much Grout You Need
      </h1>
      <p class="text-lg text-muted-foreground leading-relaxed">
        Enter your tiling area, tile size, joint width and tile depth to calculate how much grout you need in kilograms and bags. The calculator uses the standard grout volume formula so you can order the right amount before starting your job.
      </p>
    </header>

    <!-- Disclaimer -->
    <div class="bg-amber-50 border border-amber-200 rounded-xl p-4 mb-10 text-sm text-amber-800">
      <p>All calculations are estimates. Actual grout usage depends on joint consistency, tile edge profile, application technique and waste. Always check the manufacturer's coverage rate on the bag before ordering.</p>
    </div>

    <!-- Guidance Section -->
    <section class="mb-12 max-w-3xl">
      <h2 class="text-2xl font-bold text-surface-foreground mb-6">How Much Grout Do You Need?</h2>
      <div class="space-y-6">
        <div>
          <h3 class="text-lg font-semibold text-surface-foreground mb-2">What Grout Does</h3>
          <p class="text-muted-foreground leading-relaxed">Grout fills the joints between tiles. It keeps moisture, dirt and debris out of the gaps and gives the finished surface a clean, uniform look. Without grout, tiles shift over time and edges chip.</p>
        </div>
        <div>
          <h3 class="text-lg font-semibold text-surface-foreground mb-2">How Joint Width Affects Usage</h3>
          <p class="text-muted-foreground leading-relaxed">Wider joints use more grout per square metre. A 2 mm joint on a 300 × 300 mm tile uses roughly 0.3 kg/m². A 5 mm joint on the same tile uses around 0.8 kg/m². Always match your spacer size to your intended joint width.</p>
        </div>
        <div>
          <h3 class="text-lg font-semibold text-surface-foreground mb-2">Wall Grout vs Floor Grout</h3>
          <p class="text-muted-foreground leading-relaxed mb-4">Wall grout is typically unsanded and fine-textured, suitable for joints up to 3 mm. Floor grout is sanded for strength and suits joints from 3 mm to 15 mm. Using the wrong type leads to cracking or poor adhesion. Some products are rated for both walls and floors — check the label.</p>

          <!-- Joint width guide table -->
          <div class="bg-white rounded-xl border border-border overflow-hidden">
            <table class="w-full text-sm">
              <thead>
                <tr class="bg-muted/30 text-left text-muted-foreground">
                  <th scope="col" class="px-4 py-3 font-medium">Joint Width</th>
                  <th scope="col" class="px-4 py-3 font-medium">Typical Use</th>
                  <th scope="col" class="px-4 py-3 font-medium">Spacer Size</th>
                </tr>
              </thead>
              <tbody class="text-surface-foreground">
                <tr class="border-t border-border/50"><td class="px-4 py-2.5">2 mm</td><td class="px-4 py-2.5">Rectified (precision-cut) tiles, minimal joint look</td><td class="px-4 py-2.5">2 mm</td></tr>
                <tr class="border-t border-border/50"><td class="px-4 py-2.5">3 mm</td><td class="px-4 py-2.5">Standard wall tiles, metro tiles</td><td class="px-4 py-2.5">3 mm</td></tr>
                <tr class="border-t border-border/50"><td class="px-4 py-2.5">5 mm</td><td class="px-4 py-2.5">Standard floor tiles, natural stone</td><td class="px-4 py-2.5">5 mm</td></tr>
                <tr class="border-t border-border/50"><td class="px-4 py-2.5">10 mm</td><td class="px-4 py-2.5">Handmade tiles, rustic stone, quarry tiles</td><td class="px-4 py-2.5">10 mm</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- Formula Section -->
    <section class="mb-12 max-w-3xl">
      <h2 class="text-2xl font-bold text-surface-foreground mb-4">The Grout Formula</h2>
      <p class="text-muted-foreground leading-relaxed mb-4">Grout consumption depends on four variables: tile length, tile width, joint width and tile depth (thickness). The formula calculates the total volume of grout joints per square metre, then converts to weight using a grout density of 2.0 kg per litre (covers denser/flexible grouts).</p>

      <div class="bg-slate-900 rounded-xl p-5 mb-4 overflow-x-auto">
        <code class="text-sm md:text-base text-emerald-400 font-mono whitespace-nowrap">
          Grout (kg/m²) = ((tile length + tile width) / (tile length × tile width)) × joint width × tile depth × 2.0
        </code>
      </div>

      <p class="text-muted-foreground text-sm">All dimensions in millimetres. The result is in kg per m². Multiply by your total tiling area to get the total grout needed. Add 10% for waste.</p>
    </section>

    <!-- React Island -->
    <section class="mb-12" id="calculator">
      <GroutCalculator client:load />
    </section>

    <!-- Tips Section -->
    <section class="mb-12 max-w-3xl">
      <h2 class="text-2xl font-bold text-surface-foreground mb-6">Grouting Tips</h2>
      <div class="space-y-6">
        <div>
          <h3 class="text-lg font-semibold text-surface-foreground mb-2">Wait for the Adhesive to Set</h3>
          <p class="text-muted-foreground leading-relaxed">Do not grout until the adhesive has fully cured. Standard adhesive needs 12–24 hours. Rapid-set adhesive needs 3–6 hours. Grouting too early can disturb the tiles.</p>
        </div>
        <div>
          <h3 class="text-lg font-semibold text-surface-foreground mb-2">Work in Small Sections</h3>
          <p class="text-muted-foreground leading-relaxed">Spread grout over 1–2 m² at a time using a grout float held at 45 degrees. Push grout firmly into the joints. Wipe off excess with a damp sponge before it dries.</p>
        </div>
        <div>
          <h3 class="text-lg font-semibold text-surface-foreground mb-2">Clean as You Go</h3>
          <p class="text-muted-foreground leading-relaxed">Grout haze forms quickly. Wipe tiles with a damp sponge within 10–15 minutes of application. Once grout haze dries fully, it is much harder to remove.</p>
        </div>
        <div>
          <h3 class="text-lg font-semibold text-surface-foreground mb-2">Seal Porous Grout</h3>
          <p class="text-muted-foreground leading-relaxed">Unsanded and cement-based grout is porous. Apply a grout sealer after the grout has cured (usually 24–72 hours) to protect against staining and moisture absorption, especially in wet areas.</p>
        </div>
      </div>
    </section>

    <!-- Related Calculators -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold text-surface-foreground mb-6">Related Calculators</h2>
      <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-4">
        {relatedCalculators.map((calc) => (
          <a
            href={calc.href}
            class="block bg-white rounded-xl border border-border p-5 hover:border-brand-blue hover:shadow-md transition-all group focus-ring"
          >
            <h3 class="font-semibold text-surface-foreground group-hover:text-brand-blue transition-colors mb-1">{calc.title}</h3>
            <p class="text-sm text-muted-foreground">{calc.description}</p>
          </a>
        ))}
      </div>
    </section>

    <!-- FAQ -->
    <section class="mb-12 max-w-3xl">
      <h2 class="text-2xl font-bold text-surface-foreground mb-6">Frequently Asked Questions</h2>
      <div class="space-y-3">
        {faqs.map((faq) => (
          <details class="group bg-white rounded-xl border border-border overflow-hidden">
            <summary class="flex items-center justify-between px-5 py-4 cursor-pointer text-surface-foreground font-medium hover:bg-muted/30 transition-colors focus-ring">
              {faq.question}
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0 ml-4 text-muted-foreground transition-transform group-open:rotate-180">
                <path d="m6 9 6 6 6-6" />
              </svg>
            </summary>
            <div class="px-5 pb-4 text-sm text-muted-foreground leading-relaxed border-t border-border/50 pt-3">
              {faq.answer}
            </div>
          </details>
        ))}
      </div>
    </section>

    <!-- Sources -->
    <section class="max-w-3xl">
      <h2 class="text-2xl font-bold text-surface-foreground mb-4">Sources &amp; Further Reading</h2>
      <p class="text-muted-foreground text-sm mb-3">The grout formula uses the standard joint volume method. Grout density of 2.0 kg/litre covers denser and flexible grouts.</p>
      <ul class="list-disc list-inside text-sm text-muted-foreground space-y-1">
        <li><a href="https://www.mapei.com/gb/en" target="_blank" rel="noopener noreferrer" class="text-brand-blue hover:underline">Mapei</a> — Keracolor grout technical data sheet (coverage rates by tile and joint size)</li>

        <li><a href="https://www.tiles.org.uk" target="_blank" rel="noopener noreferrer" class="text-brand-blue hover:underline">TTA</a> — BS 5385 tiling standards summary (joint width recommendations by tile type)</li>
      </ul>
    </section>

  </div>
</BaseLayout>
