---
import SelcoLayout from '../../layouts/SelcoLayout.astro';
import SelcoSidebar from '../../components/selco/SelcoSidebar.astro';
import { projects } from '../../data/projects';

const BASE_URL = import.meta.env.BASE_URL;
const base = BASE_URL.endsWith('/') ? BASE_URL : `${BASE_URL}/`;

const breadcrumbs = [
  { label: 'Home', href: base },
  { label: 'My Projects' }
];

const title = "My Projects";
---

<SelcoLayout
  title={title}
  description="Grouped calculators for specific trade jobs. Organise materials for each project in one place."
  showSidebar={true}
  breadcrumbs={breadcrumbs}
>
  <SelcoSidebar />

  <main class="w-full">
    <div class="space-y-8 pb-12">
      <div class="space-y-6 pt-0">
        <h1 class="text-3xl md:text-4xl font-black text-[--selco-dark-blue] uppercase tracking-tight leading-none">
          {title}
        </h1>
        <p class="text-muted-foreground text-base md:text-lg">
          Pick a job type and use the calculators that go with it.
        </p>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-5">
        {projects.map((project) => (
          <a
            href={`${base}${project.href}`}
            class="group block p-6 bg-surface rounded-[--radius-card] border border-border card-shadow hover:border-brand-blue/40 hover:-translate-y-0.5 hover:shadow-md transition-all duration-200 focus-ring"
          >
            <div class="flex items-center gap-3 mb-4">
              <span class="p-2 bg-brand-blue/5 rounded-lg text-brand-blue group-hover:bg-brand-blue/10 transition-colors">
                {/* Icon placeholder or use project-specific icons later */}
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-folder-kanban"><path d="M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 2H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z"/><path d="M2 10h20"/></svg>
              </span>
              <h3 class="font-bold text-lg text-surface-foreground group-hover:text-brand-blue transition-colors">
                {project.title}
              </h3>
            </div>
            
            <p class="text-sm text-muted-foreground leading-relaxed mb-6">
              {project.description}
            </p>

            <div class="space-y-2">
              <p class="text-xs font-semibold text-muted-foreground uppercase tracking-wide">Includes:</p>
              <div class="flex flex-wrap gap-2">
                {project.tools.map(tool => (
                  <span class="text-xs bg-muted/50 px-2 py-1 rounded text-muted-foreground border border-border/50">
                    {tool.title}
                  </span>
                ))}
              </div>
            </div>
          </a>
        ))}

        {/* Coming Soon Card */}
        <div class="flex flex-col p-6 bg-muted/10 rounded-[--radius-card] border border-border border-dashed justify-center items-center text-center space-y-3 min-h-[220px]">
           <div class="p-3 bg-muted/20 rounded-full">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-muted-foreground/60"><circle cx="12" cy="12" r="10"/><line x1="12" x2="12" y1="8" y2="12"/><line x1="12" x2="12.01" y1="16" y2="16"/></svg>
           </div>
           <div>
              <h3 class="font-semibold text-muted-foreground">More Trades Coming Soon</h3>
              <p class="text-xs text-muted-foreground/70 mt-1 max-w-[200px] mx-auto">
                Weâ€™re working on project pages for plumbing, painting, electrical and more, each with its own set of calculators.
              </p>
           </div>
        </div>
      </div>
    </div>
  </main>
</SelcoLayout>
